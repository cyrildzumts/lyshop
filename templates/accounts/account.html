{% extends "site_account_base.html"%}
{% load i18n %}
{% load shipment_status %}
{% load order_tag %}
{% block MAIN %}

<div class="flex">
    <h3>{% trans "Account Summary" %}</h3>
</div>
<div class="container">
   
   {% if recent_orders %}
   <div class="title"><h4>{% trans "Recent Orders" %}</h4></div>
   <div class="mat-table-wrapper">
        <table id="order-list" class="mat-table js-filter-table">
          <thead>
                  <tr>
                        <th scope="col">{% trans "Order Reference" %}</th>
                        <th scope="col">{% trans "Amount" %}</th>
                        <th scope="col">{% trans "Status" %}</th>
                        <th scope="col">{% trans "Shipment Status" %}</th>
                        <th scope="col">{% trans "Date" %}</th>
                        <th scope="col">{% trans "Details" %}</th>
                  </tr>
          </thead>
          <tbody>
                  {% for o in recent_orders  %}
                  <tr>
                    <td scope="row" data-label="Order Reference">{{o.order_ref_number}}</td>
                    <td data-label="{% trans 'Amount' %}">{{o.amount|floatformat:"-2"}} {% trans CURRENCY %}</td>
                    <td data-label="{% trans 'Status' %}">{{o.status|order_status_value}} </td>
                    {% if o.order_shipment.first %}
                    <td data-label="{% trans 'Shipment Status' %}">{{o.order_shipment.first.shipment_status|shipment_status_value}} </td>
                    {% else %}
                    <td data-label="{% trans 'Shipment Status' %}">{% trans "No shipment information" %}</td>
                    {% endif %}
                    <td data-label="{% trans 'Date' %}">{{o.created_at|date:"F j, Y"}}</td>
                    <td data-label="{% trans 'Details' %}"><a class="mat-button mat-button-default" href="{{o.get_absolute_url}}"><i class="fas fa-info icon"></i><span>{% trans "Detail" %}</span></a></td>
                  </tr>
                  {% endfor %}
                  
          </tbody>
          <tfoot>
                  
          </tfoot>

    </table>
    </div><!--End of Table Wrapper-->
   {% else %}
   <div class="mat-box">
    <p>{% trans "You have not order any product yet." %}</p>
    <p>{% trans "Your recent orders will be shown here." %}</p>
   </div>
   {% endif %}
   
</div>
{% endblock MAIN %}