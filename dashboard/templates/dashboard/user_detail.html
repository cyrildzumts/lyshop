{% extends "dashboard_base.html"%}
{% load i18n %}
{% block HEADER_BANNER %}
    <div class="banner banner-align-left">
        <div class="full welcome-text center">
                {% block  HEADER_BANNER_TITLE %}
                    <h4> {% trans "User Information" %} - {{user_instance.username}}</h4>
                {% endblock HEADER_BANNER_TITLE %}
                
        </div>
        <div class="container">
                <div class="banner--actions">
                    <a class="mat-button mat-button-text" href="{% url 'dashboard:users' %}"><i class="fas fa-users icon"></i><span>{% trans "Users" %}</span></a>
                    <a class="mat-button mat-button-text" href="{% url 'dashboard:home' %}"><i class="fas fa-home icon"></i><span>{% trans "Dashboard" %}</span></a>
                    {% if is_seller %}
                        {% if not has_balance %}
                        <a class="mat-button mat-button-text" href="{% url 'dashboard:create-vendor-balance' user_instance.pk %}"><i class="fas fa-plus icon"></i><span>{% trans "Add Balance" %}</span></a>
                        {% endif %}
                    <a class="mat-button mat-button-text" href="{% url 'dashboard:update-vendors-products' user_instance.pk %}"><i class="fas fa-sync icon"></i><span>{% trans "Update Vendor" %}</span></a>
                    {% endif %}
                        
                </div><!--End of Banner-Actions--> 
        </div><!--End of Container-->
        
    </div>
{% endblock HEADER_BANNER %}

{%block MAIN_CONTENT %}

                
<div class="container">

        <div class="mat-box">
                <div class="title">
                        <span>{% trans "User" %}</span>
                </div>
                <div class="mat-box-content">
                        <div class="entry">
                                <span class="key">{% trans "Username" %}</span> <span class="value">{{user_instance.username}}</span>
                        </div>
                        <div class="entry">
                                <span class="key">{% trans "Lastname" %}</span> <span class="value">{{user_instance.last_name}}</span>
                        </div>
                        <div class="entry">
                                <span class="key">{% trans "Firstname" %}</span> <span class="value">{{user_instance.first_name}}</span>
                        </div>
                        <div class="entry">
                                <span class="key">{% trans "E-Mail" %}</span> <span class="value">{{user_instance.email}}</span>
                        </div>
                        <div class="entry">
                                <span class="key">{% trans "Date joined" %}</span> <span class="value">{{user_instance.date_joined|date:"F j, Y"}}</span>
                        </div>
                        <div class="entry">
                                <span class="key">{% trans "Last login" %}</span> <span class="value">{{user_instance.last_login|date:"F j, Y"}}</span>
                        </div>
                </div>
                <div class="actions">
                        <form action="{% url 'dashboard:generate-token' %}" method="POST">{% csrf_token %}
                                <input type="hidden" name="user" value="{{user_instance.pk}}">
                                <button class="mat-button mat-button-default" type="submit"><i class="fas fa-key icon"></i><span>{% trans "Create Access Token" %}</span></button>
                        </form>
                </div>
                
        </div>
        {% if user_instance.account %}
        <div class="mat-box">
                <div class="title">
                     <span>{% trans "Account Information" %}</span>
                </div>
                <div class="mat-box-content">
                        <div class="entry">
                                <span class="key">{% trans "Country" %}</span> <span class="value">{{user_instance.account.country}}</span>
                        </div>
                        <div class="entry">
                                <span class="key">{% trans "City" %}</span> <span class="value">{{user_instance.account.city}}</span>
                        </div>
                        <div class="entry">
                                <span class="key">{% trans "Telefon" %}</span> <span class="value">{{user_instance.account.telefon}}</span>
                        </div>
                        <div class="entry">
                                <span class="key">{% trans "Account Type" %}</span> <span class="value">{{user_instance.account.account_type}}</span>
                        </div>
                        
                        {% if is_seller %}
                        <div class="entry">
                                <span class="key">{% trans "Balance" %}</span> <span class="value">{{user_instance.balance.balance}} {% trans "XAF" %}</span>
                        </div>
                        
                        <div class="entry">
                                <span class="key">{% trans "Number of Unique  Product" %}</span> <span class="value">{{user_instance.sold_products.count}}</span>
                        </div>
                        {% endif %}
                        
                </div>
        </div>
        {% endif %}
</div>
{% if is_seller %}
<div class="container">
        <div class="col-m-12 col-9">
        {% include 'tags/product_list_template.html' with product_list=product_list %}   
        </div>
</div>
{% endif %}
                
{% endblock MAIN_CONTENT %}


