{% extends "vendor_base.html"%}
{% load i18n %}
{% load shipment_status %}
{% block HEADER_BANNER %}
    <div class="banner banner-align-left">
        <div class="full welcome-text center">
                {% block  HEADER_BANNER_TITLE %}
                    <h4><i class="fas fa-history icon"></i> {% trans "Balance History" %}</h4>
                    <h4> <i class="fas fa-money-bill icon"></i> <span>{% trans "Balance" %} - {{balance.balance}} {% trans "XAF" %}</span></h4>

                {% endblock HEADER_BANNER_TITLE %}
                
        </div>    
    </div>
{% endblock HEADER_BANNER %}

{% block MAIN %}
{% if history_list %}
<div class="container">
    <div class="actions">
        <a class="mat-button mat-button-text" href="{% url 'vendors:vendor-home' %}"><i class="fas fa-home icon"></i><span>{% trans "Vendor Home" %}</span></a>
    </div><!--End of Banner-Actions-->
    <div class="mat-box wrapper full">
        <div class="grid title">
            <div class="mat-box-title wrapper">
            
            </div>
        </div>
    </div>
    <div class="mat-box wrapper full">
      <div class="mat-table-wrapper">
        <table id="history-list" class="mat-table js-filter-table">
              <thead>
                      <tr>
                              <th scope="col">{% trans "Customer" %}</th>
                              <th scope="col">{% trans "Balance State" %}</th>
                              <th scope="col">{% trans "Recived Amount" %}</th>
                              <th scope="col">{% trans "Date" %}</th>
                      </tr>
              </thead>
              <tbody>
                      {% for h in history_list  %}
                      <tr>
                        <td data-label="{% trans 'Customer' %}">{{h.sender.username}} </td>
                        <td data-label="{% trans 'Balance State' %}">{{h.current_state}}  {% trans "XAF" %}</td>
                        <td data-label="{% trans 'Received Amount' %}">{{h.balance_amount}}  {% trans "XAF" %}</td>
                        <td data-label="{% trans 'Date' %}">{{h.created_at|date:"F j, Y"}}</td>
                      </tr>
                      {% endfor %}
                      
              </tbody>
              <tfoot>
                      
              </tfoot>

        </table>
        {% include "tags/pagination.html" with page_set=history_list %}
      </div><!--End of Table Wrapper-->
    </div>
</div>
{% else %}
<div class="container">
  <div class="col-m-12 col-12">
    <p>{% trans "There is no history yet." %}</p>
  </div>
  <div class="col-m-12 col-12">
    <p>{% trans "Balance history will be displayed here." %}</p>
  </div>
</div>
{% endif %}
{% endblock MAIN %}